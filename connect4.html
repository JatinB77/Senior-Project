<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="css/styles.css" type="text/css"/>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
	<script src="js/script.js"></script>
	<style type="text/css">
	body{
	width: 714px;
	height: 612px;
	background-color: #888;
	margin: auto;
	margin-top: 25px;
	border: 5px solid yellow;
	}
	.horizontal{
	width:100px;
	height:612px;
	background:white;
	border:none;
	}
	div{
	float: left;
	height:100px;
	width:100px;
	padding-right:1.8px;
	border: 1px solid black;
	}
	</style>
</head>
<body>
    <script src="jquery.js"></script> 
	<script>
	
	$(document).ready(function() {
		$( "div>div" ).click(function( event ) {
		 	chip_child = $(this).attr('id');
		 	chip_parent = $(this).parent().attr('id');
		 	child_class = $(this).attr('class');
		 	work = $(this).parent().find('#' + (parseInt(chip_child)+1));
		 	
		 	if(chip_child<1 && child_class!=="done_red"  && child_class!=="done_blue"||child_class==="ready"){
		 	
	  			if(player){
    				    $(this).css({"background":"red", "border-radius":"50px"});
    				    $(this).attr('class','done_red');
    				    $(work).attr('class','ready');
        				player=false;
        				evalWin($(this));
        				}
 					else{
 						$(this).css({"background":"blue", "border-radius":"50px"});
	  					$(this).attr('class','done_blue');
	  					$(work).attr('class','ready');
	  					player=true;
	  					evalWin($(this));	 		
	  					}
    			}
    		});
    		
    					
	});
		function evalWin(chip){
	    	chip_child = chip.attr('id');
	 		chip_parent = chip.parent().attr('id');		
	  		child_class = chip.attr('class');
		 	child_color = chip.attr('background');
		 	var counter = 1;
		 	
		 	for(d=1; d<4; d++){//down
				nextChip=chip.parent().find('#' + (parseInt(chip_child)-d)).attr('class');
				if(child_class===nextChip){counter++;}
				if(counter===4){alert("Win");}
			}
			counter = 1;
			refChip=chip;
			for(r=1; r<4; r++){//right
					refChip=refChip.parent().next().find('#' + (parseInt(chip_child)));
					refChipClass= refChip.attr('class');
					if(child_class===refChipClass){counter++;}
					if(counter===4){
						alert("Win");
						counter++;
					}
				}
			
			refChip=chip;
			for(r=1; r<4; r++){//right
					refChip=refChip.parent().prev().find('#' + (parseInt(chip_child)));
					refChipClass= refChip.attr('class');
					if(child_class===refChipClass){counter++;}
					if(counter===4){
						alert("Win");
						counter++;
					}
			}
			
			counter=1;
			refChip=chip;
			for(dur=1; dur<4; dur++){//Dia Up Right
				refChip=refChip.parent().next().find('#' + (parseInt(chip_child)+dur));
				refChipClass= refChip.attr('class');
				if(child_class===refChipClass){counter++;}
				if(counter===4){
					alert("Win");
					counter++;
				}
			}
			
			refChip=chip;
			for(ddl=1; ddl<4; ddl++){//Dia Down Left
				refChip=refChip.parent().prev().find('#' + (parseInt(chip_child)-ddl));
				refChipClass= refChip.attr('class');
				if(child_class===refChipClass){counter++;}
				if(counter===4){
					alert("Win");
					counter++;
				}
			}
			
			counter=1;
			refChip=chip;
			for(dul=1; dul<4; dul++){//Dia Up Left
				refChip=refChip.parent().prev().find('#' + (parseInt(chip_child)+dul));
				refChipClass= refChip.attr('class');
				if(child_class===refChipClass){counter++;}
				if(counter===4){
					alert("Win");
					counter++;
				}
			}
			
			refChip=chip;
			for(ddr=1; ddr<4; ddr++){//Dia Down Right
				refChip=refChip.parent().next().find('#' + (parseInt(chip_child)-ddr));
				refChipClass= refChip.attr('class');
				if(child_class===refChipClass){counter++;}
				if(counter===4){
					alert("Win");
					counter++;
				}
			}			
		}
			
			
		
		function reset(){
		location.reload();
		}
		 	
 	var player = true;
 	for(h=0; h<7;h++){
		document.write("<div id='"+h+"' class='horizontal'>");
		for(v=5; v>=0; v--){
		document.write("<div id='"+v+"' class='not_ready'>"+v+" "+h+"</div>");
		}
		document.write("</div>");
	}	
	</script>
</body>
</html>						